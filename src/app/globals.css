@import "tailwindcss";

/* Theme overrides via data-theme to work with ThemeToggle */
:root {
  --background: #ffffff;
  --foreground: #171717;
  /* Surfaces and subtle UI tokens */
  --surface: #ffffff;
  --surface-border: rgba(0,0,0,0.08);
  --muted-foreground: #6b7280; /* gray-500 */
}

html[data-theme="light"] {
  --background: #ffffff;
  --foreground: #171717;
  /* Keep surface aligned with pure white cards on light */
  --surface: #ffffff;
  --surface-border: rgba(0,0,0,0.08);
  --muted-foreground: #6b7280;
  color-scheme: light;
}

html[data-theme="dark"] {
  --background: #0a0a0a;
  --foreground: #ededed;
  /* Slightly lifted surface in dark for contrast */
  --surface: #0d0d0d;
  --surface-border: rgba(255,255,255,0.10);
  --muted-foreground: #9ca3af; /* gray-400 */
  color-scheme: dark;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  transition: background-color 200ms ease, color 200ms ease, background 200ms ease;
}

/* Stable, translucent header surface tuned per theme */
html[data-theme="light"] .site-header { background-color: rgba(255,255,255,0.6); }
html[data-theme="dark"] .site-header { background-color: rgba(10,10,10,0.6); }

/* Accessible focus ring */
:focus-visible {
  outline: 2px solid rgba(59, 130, 246, 0.6);
  outline-offset: 2px;
}

/* FullCalendar refinements */
.fc {
  --fc-border-color-light: rgba(0,0,0,0.08);
  --fc-border-color-dark: rgba(255,255,255,0.08);
  --fc-day-hover-light: rgba(0,0,0,0.03);
  --fc-day-hover-dark: rgba(255,255,255,0.04);
  --fc-today-bg: rgba(59,130,246,0.12);
  font-size: 13px;
}

.fc-theme-standard .fc-scrollgrid,
.fc-theme-standard td,
.fc-theme-standard th {
  border-color: var(--fc-border-color-light);
}

html[data-theme="dark"] .fc-theme-standard .fc-scrollgrid,
html[data-theme="dark"] .fc-theme-standard td,
html[data-theme="dark"] .fc-theme-standard th {
  border-color: var(--fc-border-color-dark);
}

.fc .fc-toolbar-title {
  font-weight: 600;
}

.fc .fc-daygrid-day {
  transition: background-color 150ms ease;
}

.fc .fc-daygrid-day:hover {
  background-color: var(--fc-day-hover-light);
}

html[data-theme="dark"] .fc .fc-daygrid-day:hover {
  background-color: var(--fc-day-hover-dark);
}

.fc .fc-daygrid-day-number {
  font-weight: 500;
  color: #6b7280; /* gray-500 */
}
html[data-theme="dark"] .fc .fc-daygrid-day-number {
  color: #9ca3af; /* gray-400 */
}

/* Selected range highlight */
.fc .fc-highlight {
  background: rgba(59,130,246,0.25);
  border-radius: 8px;
}

/* Today background */
.fc .fc-day-today {
  background: var(--fc-today-bg) !important;
}

/* Event chips */
.fc .fc-event,
.fc .fc-daygrid-event {
  border: 0;
  box-shadow: none;
  border-radius: 10px;
  overflow: hidden;
}

/* Reduce event spacing a bit for denser look */
.fc .fc-daygrid-event {
  margin: 2px 2px 4px;
}

/* Hide native password reveal/clear icons to avoid overlap with custom eye button */
input::-ms-reveal,
input::-ms-clear {
  display: none;
}

/* Light theme polish */
html[data-theme="light"] {
  /* Softer app background so white cards stand out */
  --background: #f7f8fb; /* subtle neutral */
  --foreground: #0a0a0a;
}

/* Gentle texture for light background */
html[data-theme="light"] body {
  background:
    radial-gradient(1200px 500px at 20% -10%, rgba(59,130,246,0.04), transparent 60%),
    radial-gradient(1000px 400px at 110% 10%, rgba(99,102,241,0.04), transparent 60%),
    var(--background);
}

/* Gentle texture for dark background to match landing visuals */
html[data-theme="dark"] body {
  background:
    radial-gradient(900px 350px at 15% -10%, rgba(59,130,246,0.06), transparent 60%),
    radial-gradient(900px 350px at 120% 10%, rgba(99,102,241,0.06), transparent 60%),
    var(--background);
}

/* Link colors - low specificity and only for unclassed text links */
:where(html[data-theme="light"]) a:not([class]) { color: #2563eb; }
:where(html[data-theme="light"]) a:not([class]):hover { color: #1d4ed8; }
:where(html[data-theme="dark"]) a:not([class]) { color: #93c5fd; }
:where(html[data-theme="dark"]) a:not([class]):hover { color: #bfdbfe; }

/* Card-like surfaces utility (opt-in) */
.card-surface {
  background: var(--surface);
  border: 1px solid var(--surface-border);
  border-radius: 16px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
}
html[data-theme="dark"] .card-surface {
  box-shadow: none;
}

/* Headings slightly heavier for readability */
h1, h2, h3 { letter-spacing: -0.01em; }

/* Improve focus ring contrast in light mode */
html[data-theme="light"] :focus-visible {
  outline-color: rgba(37, 99, 235, 0.7);
}

/* Playful marquee for benefits */
.marquee { overflow: hidden; }
.marquee-track {
  display: inline-flex;
  gap: 1rem;
  min-width: max-content;
  white-space: nowrap;
  animation: marquee 22s linear infinite;
}
@keyframes marquee {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

/* --- Supabase Auth UI (appearance.className = "supabase-auth") light-mode fixes --- */
html[data-theme="light"] .supabase-auth {
  color: #111827;
}
/* Ensure internal surfaces from the library don't paint dark in light mode */
html[data-theme="light"] .supabase-auth [class*="card"],
html[data-theme="light"] .supabase-auth [class*="Card"],
html[data-theme="light"] .supabase-auth [class*="container"],
html[data-theme="light"] .supabase-auth [class*="panel"],
html[data-theme="light"] .supabase-auth > div {
  background: transparent !important;
  box-shadow: none !important;
}
/* Headings and intro text set to white per request */
/* Headings and intro text use dark foreground in light mode */
html[data-theme="light"] .supabase-auth h1,
html[data-theme="light"] .supabase-auth h2,
html[data-theme="light"] .supabase-auth h3,
html[data-theme="light"] .supabase-auth p[role="note"],
html[data-theme="light"] .supabase-auth p.intro,
html[data-theme="light"] .supabase-auth .intro-text {
  color: #111827 !important; /* gray-900 */
}
/* Labels readable in light mode */
html[data-theme="light"] .supabase-auth label,
html[data-theme="light"] .supabase-auth [class*="label"],
html[data-theme="light"] .supabase-auth [role="heading"] {
  color: #374151 !important; /* gray-700 */
}
/* Inputs */
html[data-theme="light"] .supabase-auth input[type="email"],
html[data-theme="light"] .supabase-auth input[type="password"],
html[data-theme="light"] .supabase-auth input[type="text"],
html[data-theme="light"] .supabase-auth input,
html[data-theme="light"] .supabase-auth textarea {
  background-color: #ffffff !important;
  color: #111827 !important;
  border-color: rgba(0,0,0,0.15) !important;
}
/* Links */
html[data-theme="light"] .supabase-auth a { color: #2563eb !important; }

/* Buttons (prevent black hover in light mode) */
html[data-theme="light"] .supabase-auth button,
html[data-theme="light"] .supabase-auth button[type="submit"],
html[data-theme="light"] .supabase-auth [role="button"],
html[data-theme="light"] .supabase-auth .sbui-btn,
html[data-theme="light"] .supabase-auth [class*="Button"],
html[data-theme="light"] .supabase-auth [class*="button"] {
  background-color: #2563eb !important; /* blue-600 */
  color: #ffffff !important;
  border-color: transparent !important;
  box-shadow: none !important;
}
/* Modern input styling across themes */
.supabase-auth input {
  border-radius: 8px !important; /* rounded edges */
  padding: 10px 12px !important; /* comfortable padding */
}
.supabase-auth input::placeholder {
  color: #9ca3af !important; /* gray-400 */
}
html[data-theme="dark"] .supabase-auth input::placeholder {
  color: #6b7280 !important; /* gray-500 for dark */
}
/* Polished focus state */
.supabase-auth input:focus-visible {
  outline: 2px solid rgba(37, 99, 235, 0.6) !important;
  outline-offset: 2px !important;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.12) !important;
}
html[data-theme="light"] .supabase-auth button:hover,
html[data-theme="light"] .supabase-auth button[type="submit"]:hover,
html[data-theme="light"] .supabase-auth [role="button"]:hover,
html[data-theme="light"] .supabase-auth .sbui-btn:hover,
html[data-theme="light"] .supabase-auth [class*="Button"]:hover,
html[data-theme="light"] .supabase-auth [class*="button"]:hover,
html[data-theme="light"] .supabase-auth button:active,
html[data-theme="light"] .supabase-auth button[type="submit"]:active,
html[data-theme="light"] .supabase-auth [role="button"]:active,
html[data-theme="light"] .supabase-auth .sbui-btn:active,
html[data-theme="light"] .supabase-auth [class*="Button"]:active,
html[data-theme="light"] .supabase-auth [class*="button"]:active {
  background-color: #1d4ed8 !important; /* blue-700 */
  color: #ffffff !important;
}
/* Tactile pressed feedback for Supabase Auth UI buttons */
.supabase-auth button:active,
.supabase-auth button[type="submit"]:active,
.supabase-auth [role="button"]:active,
.supabase-auth .sbui-btn:active,
.supabase-auth [class*="Button"]:active,
.supabase-auth [class*="button"]:active {
  transform: scale(0.98);
  transition: transform 100ms ease;
}
html[data-theme="light"] .supabase-auth button:focus-visible,
html[data-theme="light"] .supabase-auth button[type="submit"]:focus-visible,
html[data-theme="light"] .supabase-auth [role="button"]:focus-visible,
html[data-theme="light"] .supabase-auth .sbui-btn:focus-visible,
html[data-theme="light"] .supabase-auth [class*="Button"]:focus-visible,
html[data-theme="light"] .supabase-auth [class*="button"]:focus-visible {
  outline: 2px solid rgba(37, 99, 235, 0.8) !important;
  outline-offset: 2px !important;
}
html[data-theme="light"] .supabase-auth button:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

/* Subtle shimmer for CTA buttons */
.btn-shimmer { position: relative; overflow: hidden; }
.btn-shimmer::before {
  content: "";
  position: absolute;
  top: 0;
  left: -150%;
  height: 100%;
  width: 150%;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.22) 50%, transparent 100%);
  transform: skewX(-18deg);
  animation: sheen 2800ms ease-in-out infinite;
  pointer-events: none;
}
@keyframes sheen {
  0%   { left: -150%; }
  60%  { left: 120%; }
  100% { left: 120%; }
}

/* Gentle pulse for primary CTA */
.pulse-soft {
  animation: pulseSoft 2600ms ease-in-out infinite;
}
@keyframes pulseSoft {
  0% { box-shadow: 0 0 0 0 rgba(59,130,246,0.35); }
  50% { box-shadow: 0 0 0 8px rgba(59,130,246,0.0); }
  100% { box-shadow: 0 0 0 0 rgba(59,130,246,0.0); }
}
